
from dataclasses import dataclass
import typing
import typing_extensions

from flytekit.core.annotation import FlyteAnnotation

from latch.types.metadata import NextflowParameter, LatchParameter, Multiselect
from latch.types.file import LatchFile
from latch.types.directory import LatchDir, LatchOutputDir

from .enums import Assembler

# Import these into your `__init__.py` file:
#
# from .parameters import generated_parameters

@dataclass(frozen=True)
class Sample:
    sample: str
    read1: LatchFile
    read2: typing.Optional[LatchFile]

generated_parameters = {
    'table_id': LatchParameter(
        display_name="Input Table ID",
        batch_table_column=True,
        # Show a table picker instead of a normal int input
        _custom_ingestion="registry_table",
        section_title='Latch Table',
    ),
    'input': NextflowParameter(
        type=typing.List[Sample],
        display_name="Samplesheet",
        samplesheet=True,
        samplesheet_type='csv',
        section_title='Input/output options',
        description='Path to comma-separated file containing information about the samples in the experiment.',
    ),
    'outdir': NextflowParameter(
        type=typing_extensions.Annotated[LatchDir, FlyteAnnotation({'output': True})],
        default=None,
        display_name="Output Directory",
        section_title=None,
        description='The output directory where the results will be saved. You have to use absolute paths to storage on Cloud infrastructure.',
    ),
    'samplename': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Sample Name",
        section_title='Sample configuration',
        description="Name of the sample being processed",
    ),
    'read1': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Read 1",
        section_title=None,
        description="Path to forward read file (R1)",
    ),
    'read2': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Read 2",
        section_title=None,
        description="Path to reverse read file (R2)",
    ),
    'paired_end': NextflowParameter(
        type=bool,
        default=True,
        display_name="Paired End",
        section_title=None,
        description="Whether the sequencing data is paired-end",
    ),
    'ont_data': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="ONT Data",
        section_title=None,
        description="Whether the data is from Oxford Nanopore Technologies sequencing",
    ),
    'assembly_only': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Assembly Only",
        section_title=None,
        description="Run only the assembly step without downstream analysis",
    ),
    'skip_screen': NextflowParameter(
        type=bool,
        default=False,
        section_title=None,
        display_name='Skip screen',
        description="Whether or not to skip the screening step. If set to `true`, the workflow will not perform any screening of the input reads.",
    ),
    'workflow_series': NextflowParameter(
        type=str,
        default='theiaprok',
        section_title=None,
        display_name='Workflow series',
        description="What workflow series to use."
    ),
    'min_reads': NextflowParameter(
        type=int,
        default=7472,
        display_name="Minimum Reads",
        section_title='Quality control and filtering',
        description="Minimum number of reads required for sample processing",
    ),
    'min_basepairs': NextflowParameter(
        type=int,
        default=2241820,
        display_name="Minimum Base Pairs",
        section_title=None,
        description="Minimum number of base pairs required for sample processing",
    ),
    'min_genome_length': NextflowParameter(
        type=int,
        default=100000,
        display_name="Minimum Genome Length",
        section_title=None,
        description="Minimum expected genome length in base pairs",
    ),
    'max_genome_length': NextflowParameter(
        type=int,
        default=18040666,
        display_name="Maximum Genome Length",
        section_title=None,
        description="Maximum expected genome length in base pairs",
    ),
    'min_coverage': NextflowParameter(
        type=int,
        default=10,
        display_name="Minimum Coverage",
        section_title=None,
        description="Minimum sequencing coverage depth required",
    ),
    'min_proportion': NextflowParameter(
        type=int,
        default=40,
        display_name="Minimum Proportion",
        section_title=None,
        description="Minimum proportion threshold for quality filtering",
    ),
    'genome_length': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Genome Length",
        section_title=None,
        description="Expected genome length for the organism being analyzed",
    ),
    'trim_min_length': NextflowParameter(
        type=int,
        default=50,
        display_name="Minimum Trim Length",
        section_title='Read processing and trimming',
        description="Minimum length of reads after trimming",
    ),
    'trim_quality_min_score': NextflowParameter(
        type=int,
        default=20,
        display_name="Minimum Quality Score",
        section_title=None,
        description="Minimum quality score for read trimming",
    ),
    'trim_window_size': NextflowParameter(
        type=int,
        default=4,
        display_name="Trim Window Size",
        section_title=None,
        description="Size of the sliding window for quality trimming",
    ),
    'read_processing': NextflowParameter(
        type=str,
        default='trimmomatic',
        display_name="Read Processing Tool",
        section_title=None,
        description="Tool to use for read processing and trimming",
    ),
    'read_qc': NextflowParameter(
        type=str,
        default='fastqc',
        display_name="Read QC Tool",
        section_title=None,
        description="Tool to use for read quality control analysis",
    ),
    'adapters': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Adapter Sequences",
        section_title=None,
        description="Path to adapter sequences file for trimming",
    ),
    'phix': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="PhiX Reference",
        section_title=None,
        description="Path to PhiX reference for contamination removal",
    ),
    'fastp_args': NextflowParameter(
        type=str,
        default='--detect_adapter_for_pe -g -5 20 -3 20',
        display_name="Fastp Arguments",
        section_title=None,
        description="Additional arguments to pass to fastp",
    ),
    'assembler': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Assembler",
        section_title='Assembly configuration',
        description="Assembly tool to use for genome assembly",
    ),
    'min_contig_length': NextflowParameter(
        type=int,
        default=200,
        display_name="Minimum Contig Length",
        section_title=None,
        description="Minimum length of contigs to keep in assembly",
    ),
    'kmers': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="K-mers",
        section_title=None,
        description="K-mer sizes to use for assembly",
    ),
    'assembler_options': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Assembler Options",
        section_title=None,
        description="Additional options to pass to the assembler",
    ),
    'cg_pipe_opts': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="CG Pipe Options",
        section_title=None,
        description="Options for the CG-Pipeline assembler",
    ),
    'quast_min_contig_length': NextflowParameter(
        type=int,
        default=500,
        display_name="QUAST Min Contig Length",
        section_title=None,
        description="Minimum contig length for QUAST assembly evaluation",
    ),
    'spades_type': NextflowParameter(
        type=str,
        appearance_type=Multiselect(["isolate","metaviral", "sc", "plasmid"], allow_custom=False),
        default='isolate',
        display_name="SPAdes Type",
        section_title=None,
        description="Type of SPAdes assembly to perform",
    ),
    'call_pilon': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call Pilon",
        section_title=None,
        description="Whether to run Pilon for assembly polishing",
    ),
    'pilon_min_mapping_quality': NextflowParameter(
        type=int,
        default=60,
        display_name="Pilon Min Mapping Quality",
        section_title=None,
        description="Minimum mapping quality for Pilon polishing",
    ),
    'pilon_min_base_quality': NextflowParameter(
        type=int,
        default=3,
        display_name="Pilon Min Base Quality",
        section_title=None,
        description="Minimum base quality for Pilon polishing",
    ),
    'pilon_min_depth': NextflowParameter(
        type=float,
        default=0.25,
        display_name="Pilon Min Depth",
        section_title=None,
        description="Minimum read depth for Pilon polishing",
    ),
    'pilon_fix': NextflowParameter(
        type=str,
        default='bases',
        display_name="Pilon Fix Type",
        section_title=None,
        description="Type of fixes to apply with Pilon",
    ),
    'run_filter_contigs': NextflowParameter(
        type=bool,
        default=True,
        display_name="Run Contig Filtering",
        section_title='Contig filtering',
        description="Whether to perform contig filtering",
    ),
    'filter_contigs_min_length': NextflowParameter(
        type=int,
        default=200,
        display_name="Filter Contigs Min Length",
        section_title=None,
        description="Minimum length for contig filtering",
    ),
    'filter_contigs_min_coverage': NextflowParameter(
        type=int,
        default=2,
        display_name="Filter Contigs Min Coverage",
        section_title=None,
        description="Minimum coverage for contig filtering",
    ),
    'filter_contigs_skip_length_filter': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Skip Length Filter",
        section_title=None,
        description="Skip length-based contig filtering",
    ),
    'filter_contigs_skip_coverage_filter': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Skip Coverage Filter",
        section_title=None,
        description="Skip coverage-based contig filtering",
    ),
    'filter_contigs_skip_homopolymer_filter': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Skip Homopolymer Filter",
        section_title=None,
        description="Skip homopolymer-based contig filtering",
    ),
    'perform_characterization': NextflowParameter(
        type=bool,
        default=True,
        display_name="Perform Characterization",
        section_title='Genome characterization',
        description="Whether to perform genome characterization analysis",
    ),
    'call_ani': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call ANI",
        section_title=None,
        description="Whether to perform Average Nucleotide Identity analysis",
    ),
    'call_kmerfinder': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call KmerFinder",
        section_title=None,
        description="Whether to run KmerFinder for species identification",
    ),
    'call_resfinder': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call ResFinder",
        section_title=None,
        description="Whether to run ResFinder for antimicrobial resistance detection",
    ),
    'call_plasmidfinder': NextflowParameter(
        type=bool,
        default=True,
        display_name="Call PlasmidFinder",
        section_title=None,
        description="Whether to run PlasmidFinder for plasmid detection",
    ),
    'call_abricate': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call ABRicate",
        section_title=None,
        description="Whether to run ABRicate for antimicrobial resistance and virulence gene detection",
    ),
    'call_midas': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call MIDAS",
        section_title=None,
        description="Whether to run MIDAS for metagenomic species profiling",
    ),
    'call_kraken': NextflowParameter(
        type=bool,
        default=True,
        display_name="Call Kraken",
        section_title=None,
        description="Whether to run Kraken for taxonomic classification",
    ),
    'call_stxtyper': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call stxtyper",
        section_title=None,
        description="Whether to run stxtyper for Shiga toxin subtyping",
    ),
    'call_poppunk': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call PopPUNK",
        section_title=None,
        description="Whether to run PopPUNK for population structure analysis",
    ),
    'run_amr_search': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Run AMR Search",
        section_title=None,
        description="Whether to perform antimicrobial resistance gene search",
    ),
    'run_merlin_magic': NextflowParameter(
        type=bool,
        default=True,
        display_name="Run Merlin Magic",
        section_title=None,
        description="Whether to run Merlin Magic for comprehensive analysis",
    ),
    'genome_annotation': NextflowParameter(
        type=str,
        default='prokka',
        display_name="Genome Annotation Tool",
        section_title='Genome annotation',
        description="Tool to use for genome annotation",
    ),
    'bakta_db': NextflowParameter(
        type=str,
        default='full',
        display_name="Bakta Database",
        section_title=None,
        description="Bakta database version to use",
    ),
    'expected_taxon': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Expected Taxon",
        section_title=None,
        description="Expected taxonomic classification of the sample",
    ),
    'midas_db': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/midas/midas_db_v1.2.tar.gz',
        display_name="MIDAS Database",
        section_title='Database paths',
        description="Path to MIDAS database for species profiling",
    ),
    'kraken_db': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/kraken2/terra_databases_kraken2_kraken2.kalamari_5.1.tar',
        display_name="Kraken Database",
        section_title=None,
        description="Path to Kraken2 database for taxonomic classification",
    ),
    'kmerfinder_db': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/kmerfinder/kmerfinder_bacteria_20230911.tar.gz',
        display_name="KmerFinder Database",
        section_title=None,
        description="Path to KmerFinder database for species identification",
    ),
    'gambit_db_genomes': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/gambit/gambit-metadata-2.0.1-20250505.gdb',
        display_name="GAMBIT Genomes Database",
        section_title=None,
        description="Path to GAMBIT genomes database",
    ),
    'gambit_db_signatures': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/gambit/gambit-signatures-2.0.1-20250505.gs',
        display_name="GAMBIT Signatures Database",
        section_title=None,
        description="Path to GAMBIT signatures database",
    ),
    'bakta_db_path': NextflowParameter(
        type=str,
        default='latch://tgn-latch-dev-database-2025.mount/bakta/',
        display_name="Bakta Database Path",
        section_title=None,
        description="Path to Bakta database directory",
    ),
    'resfinder_db_res': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="ResFinder Database (Resistance)",
        section_title=None,
        description="Path to ResFinder resistance genes database",
    ),
    'resfinder_db_point': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="ResFinder Database (Point Mutations)",
        section_title=None,
        description="Path to ResFinder point mutations database",
    ),
    'plasmidfinder_db': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="PlasmidFinder Database",
        section_title=None,
        description="Path to PlasmidFinder database",
    ),
    'plasmidfinder_db_path': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="PlasmidFinder Database Path",
        section_title=None,
        description="Path to PlasmidFinder database directory",
    ),
    'plasmidfinder_method_path': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="PlasmidFinder Method Path",
        section_title=None,
        description="Path to PlasmidFinder method files",
    ),
    'vibecheck_vibrio_barcodes': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="VibeCheck Vibrio Barcodes",
        section_title=None,
        description="Path to VibeCheck Vibrio barcodes file",
    ),
    'abricate_db': NextflowParameter(
        type=str,
        default='vfdb',
        display_name="ABRicate Database",
        section_title='AMR analysis',
        description="ABRicate database to use for resistance gene detection",
    ),
    'amrfinder_min_percent_identity': NextflowParameter(
        type=float,
        default=0.9,
        display_name="AMRfinder Min Percent Identity",
        section_title=None,
        description="Minimum percent identity for AMRfinder matches",
    ),
    'amrfinder_min_percent_coverage': NextflowParameter(
        type=float,
        default=0.5,
        display_name="AMRfinder Min Percent Coverage",
        section_title=None,
        description="Minimum percent coverage for AMRfinder matches",
    ),
    'amrfinder_detailed_drug_class': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="AMRfinder Detailed Drug Class",
        section_title=None,
        description="Show detailed drug class information in AMRfinder output",
    ),
    'amrfinder_hide_point_mutations': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="AMRfinder Hide Point Mutations",
        section_title=None,
        description="Hide point mutations in AMRfinder output",
    ),
    'amrfinder_separate_betalactam_genes': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="AMRfinder Separate Beta-lactam Genes",
        section_title=None,
        description="Separate beta-lactam genes in AMRfinder output",
    ),
    'resfinder_organism': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="ResFinder Organism",
        section_title=None,
        description="Organism name for ResFinder analysis",
    ),
    'resfinder_acquired': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="ResFinder Acquired",
        section_title=None,
        description="Search for acquired resistance genes",
    ),
    'resfinder_min_percent_coverage': NextflowParameter(
        type=float,
        default=0.5,
        display_name="ResFinder Min Coverage",
        section_title=None,
        description="Minimum coverage for ResFinder matches",
    ),
    'resfinder_min_percent_identity': NextflowParameter(
        type=float,
        default=0.9,
        display_name="ResFinder Min Identity",
        section_title=None,
        description="Minimum identity for ResFinder matches",
    ),
    'resfinder_call_pointfinder': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Call PointFinder",
        section_title=None,
        description="Run PointFinder for point mutations",
    ),
    'plasmidfinder_min_percent_coverage': NextflowParameter(
        type=float,
        default=0.6,
        display_name="PlasmidFinder Min Coverage",
        section_title=None,
        description="Minimum coverage for PlasmidFinder matches",
    ),
    'plasmidfinder_min_percent_identity': NextflowParameter(
        type=float,
        default=0.9,
        display_name="PlasmidFinder Min Identity",
        section_title=None,
        description="Minimum identity for PlasmidFinder matches",
    ),
    'mlst_nopath': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="MLST No Path",
        section_title='Typing and characterization',
        description="Don't print full paths in MLST output",
    ),
    'mlst_scheme': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="MLST Scheme",
        section_title=None,
        description="MLST scheme to use for typing",
    ),
    'mlst_min_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="MLST Min Identity",
        section_title=None,
        description="Minimum identity for MLST matches",
    ),
    'mlst_min_percent_coverage': NextflowParameter(
        type=int,
        default=10,
        display_name="MLST Min Coverage",
        section_title=None,
        description="Minimum coverage for MLST matches",
    ),
    'mlst_minscore': NextflowParameter(
        type=int,
        default=50,
        display_name="MLST Min Score",
        section_title=None,
        description="Minimum score for MLST matches",
    ),
    'stxtyper_enable_debugging': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="stxtyper Debug",
        section_title=None,
        description="Enable debugging for stxtyper",
    ),
    'kaptive_start_end_margin': NextflowParameter(
        type=int,
        default=10,
        display_name="Kaptive Start/End Margin",
        section_title=None,
        description="Margin for start/end positions in Kaptive",
    ),
    'kaptive_min_percent_coverage': NextflowParameter(
        type=int,
        default=90,
        display_name="Kaptive Min Coverage",
        section_title=None,
        description="Minimum coverage for Kaptive matches",
    ),
    'kaptive_min_percent_identity': NextflowParameter(
        type=int,
        default=80,
        display_name="Kaptive Min Identity",
        section_title=None,
        description="Minimum identity for Kaptive matches",
    ),
    'kaptive_low_gene_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="Kaptive Low Gene Identity",
        section_title=None,
        description="Low gene identity threshold for Kaptive",
    ),
    'abricate_abaum_min_percent_identity': NextflowParameter(
        type=int,
        default=80,
        display_name="ABRicate A.baumannii Min Identity",
        section_title=None,
        description="Minimum identity for A.baumannii ABRicate analysis",
    ),
    'abricate_abaum_min_percent_coverage': NextflowParameter(
        type=int,
        default=80,
        display_name="ABRicate A.baumannii Min Coverage",
        section_title=None,
        description="Minimum coverage for A.baumannii ABRicate analysis",
    ),
    'lissero_min_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="LisSero Min Identity",
        section_title=None,
        description="Minimum identity for LisSero matches",
    ),
    'lissero_min_percent_coverage': NextflowParameter(
        type=int,
        default=95,
        display_name="LisSero Min Coverage",
        section_title=None,
        description="Minimum coverage for LisSero matches",
    ),
    'ectyper_o_min_percent_identity': NextflowParameter(
        type=int,
        default=90,
        display_name="ECTyper O Min Identity",
        section_title=None,
        description="Minimum identity for ECTyper O antigen",
    ),
    'ectyper_h_min_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="ECTyper H Min Identity",
        section_title=None,
        description="Minimum identity for ECTyper H antigen",
    ),
    'ectyper_o_min_percent_coverage': NextflowParameter(
        type=int,
        default=90,
        display_name="ECTyper O Min Coverage",
        section_title=None,
        description="Minimum coverage for ECTyper O antigen",
    ),
    'ectyper_h_min_percent_coverage': NextflowParameter(
        type=int,
        default=50,
        display_name="ECTyper H Min Coverage",
        section_title=None,
        description="Minimum coverage for ECTyper H antigen",
    ),
    'ectyper_verify': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="ECTyper Verify",
        section_title=None,
        description="Verify ECTyper results",
    ),
    'ectyper_print_alleles': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="ECTyper Print Alleles",
        section_title=None,
        description="Print alleles in ECTyper output",
    ),
    'spatyper_do_enrich': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="spaTyper Do Enrich",
        section_title=None,
        description="Perform enrichment in spaTyper",
    ),
    'pbptyper_database': NextflowParameter(
        type=str,
        default='[]',
        display_name="pbpTyper Database",
        section_title=None,
        description="Database for pbpTyper analysis",
    ),
    'pbptyper_min_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="pbpTyper Min Identity",
        section_title=None,
        description="Minimum identity for pbpTyper matches",
    ),
    'pbptyper_min_percent_coverage': NextflowParameter(
        type=int,
        default=95,
        display_name="pbpTyper Min Coverage",
        section_title=None,
        description="Minimum coverage for pbpTyper matches",
    ),
    'emmtyper_wf': NextflowParameter(
        type=str,
        default='blast',
        display_name="emmtyper Workflow",
        section_title=None,
        description="Workflow to use for emmtyper",
    ),
    'emmtyper_cluster_distance': NextflowParameter(
        type=int,
        default=500,
        display_name="emmtyper Cluster Distance",
        section_title=None,
        description="Cluster distance for emmtyper",
    ),
    'emmtyper_min_percent_identity': NextflowParameter(
        type=int,
        default=95,
        display_name="emmtyper Min Identity",
        section_title=None,
        description="Minimum identity for emmtyper matches",
    ),
    'emmtyper_culling_limit': NextflowParameter(
        type=int,
        default=5,
        display_name="emmtyper Culling Limit",
        section_title=None,
        description="Culling limit for emmtyper",
    ),
    'emmtyper_mismatch': NextflowParameter(
        type=int,
        default=4,
        display_name="emmtyper Mismatch",
        section_title=None,
        description="Maximum mismatches for emmtyper",
    ),
    'emmtyper_align_diff': NextflowParameter(
        type=int,
        default=5,
        display_name="emmtyper Align Diff",
        section_title=None,
        description="Alignment difference threshold for emmtyper",
    ),
    'emmtyper_gap': NextflowParameter(
        type=int,
        default=2,
        display_name="emmtyper Gap",
        section_title=None,
        description="Gap penalty for emmtyper",
    ),
    'emmtyper_min_perfect': NextflowParameter(
        type=int,
        default=15,
        display_name="emmtyper Min Perfect",
        section_title=None,
        description="Minimum perfect matches for emmtyper",
    ),
    'emmtyper_min_good': NextflowParameter(
        type=int,
        default=15,
        display_name="emmtyper Min Good",
        section_title=None,
        description="Minimum good matches for emmtyper",
    ),
    'emmtyper_max_size': NextflowParameter(
        type=int,
        default=2000,
        display_name="emmtyper Max Size",
        section_title=None,
        description="Maximum size for emmtyper analysis",
    ),
    'hicap_min_gene_percent_coverage': NextflowParameter(
        type=float,
        default=0.8,
        display_name="HiCap Min Gene Coverage",
        section_title=None,
        description="Minimum gene coverage for HiCap",
    ),
    'hicap_min_gene_depth': NextflowParameter(
        type=float,
        default=0.7,
        display_name="HiCap Min Gene Depth",
        section_title=None,
        description="Minimum gene depth for HiCap",
    ),
    'hicap_min_gene_length': NextflowParameter(
        type=int,
        default=60,
        display_name="HiCap Min Gene Length",
        section_title=None,
        description="Minimum gene length for HiCap",
    ),
    'hicap_min_gene_percent_identity': NextflowParameter(
        type=float,
        default=0.8,
        display_name="HiCap Min Gene Identity",
        section_title=None,
        description="Minimum gene identity for HiCap",
    ),
    'srst2_min_percent_coverage': NextflowParameter(
        type=int,
        default=90,
        display_name="SRST2 Min Coverage",
        section_title=None,
        description="Minimum coverage for SRST2 matches",
    ),
    'srst2_max_divergence': NextflowParameter(
        type=int,
        default=10,
        display_name="SRST2 Max Divergence",
        section_title=None,
        description="Maximum divergence for SRST2 matches",
    ),
    'srst2_min_depth': NextflowParameter(
        type=int,
        default=5,
        display_name="SRST2 Min Depth",
        section_title=None,
        description="Minimum depth for SRST2 analysis",
    ),
    'srst2_min_edge_depth': NextflowParameter(
        type=int,
        default=2,
        display_name="SRST2 Min Edge Depth",
        section_title=None,
        description="Minimum edge depth for SRST2",
    ),
    'srst2_gene_max_mismatch': NextflowParameter(
        type=int,
        default=10,
        display_name="SRST2 Max Mismatch",
        section_title=None,
        description="Maximum mismatches for SRST2 genes",
    ),
    'abricate_vibrio_min_percent_identity': NextflowParameter(
        type=int,
        default=80,
        display_name="ABRicate Vibrio Min Identity",
        section_title=None,
        description="Minimum identity for Vibrio ABRicate analysis",
    ),
    'abricate_vibrio_min_percent_coverage': NextflowParameter(
        type=int,
        default=80,
        display_name="ABRicate Vibrio Min Coverage",
        section_title=None,
        description="Minimum coverage for Vibrio ABRicate analysis",
    ),
    'virulencefinder_database': NextflowParameter(
        type=str,
        default='virulence_ecoli',
        display_name="VirulenceFinder Database",
        section_title='Virulence analysis',
        description="VirulenceFinder database for virulence gene detection",
    ),
    'virulencefinder_min_percent_coverage': NextflowParameter(
        type=float,
        default=0.6,
        display_name="VirulenceFinder Min Coverage",
        section_title=None,
        description="Minimum coverage for VirulenceFinder matches",
    ),
    'virulencefinder_min_percent_identity': NextflowParameter(
        type=float,
        default=0.9,
        display_name="VirulenceFinder Min Identity",
        section_title=None,
        description="Minimum identity for VirulenceFinder matches",
    ),
    'tbp_parser_config': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="TB Parser Config",
        section_title='Tuberculosis analysis',
        description="Configuration file for TB parser",
    ),
    'tbp_parser_sequencing_method': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="TB Parser Sequencing Method",
        section_title=None,
        description="Sequencing method for TB parser",
    ),
    'tbp_parser_operator': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="TB Parser Operator",
        section_title=None,
        description="Operator information for TB parser",
    ),
    'tbp_parser_min_depth': NextflowParameter(
        type=int,
        default=10,
        display_name="TB Parser Min Depth",
        section_title=None,
        description="Minimum depth for TB parser",
    ),
    'tbp_parser_min_frequency': NextflowParameter(
        type=float,
        default=0.1,
        display_name="TB Parser Min Frequency",
        section_title=None,
        description="Minimum frequency for TB parser",
    ),
    'tbp_parser_min_read_support': NextflowParameter(
        type=int,
        default=10,
        display_name="TB Parser Min Read Support",
        section_title=None,
        description="Minimum read support for TB parser",
    ),
    'tbp_parser_min_percent_coverage': NextflowParameter(
        type=int,
        default=100,
        display_name="TB Parser Min Coverage",
        section_title=None,
        description="Minimum coverage for TB parser",
    ),
    'tbp_parser_coverage_regions_bed': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="TB Parser Coverage Regions BED",
        section_title=None,
        description="BED file for TB parser coverage regions",
    ),
    'tbp_parser_add_cycloserine_lims': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="TB Parser Add Cycloserine LIMS",
        section_title=None,
        description="Add cycloserine LIMS data to TB parser",
    ),
    'tbp_parser_debug': NextflowParameter(
        type=bool,
        default=True,
        display_name="TB Parser Debug",
        section_title=None,
        description="Enable debug mode for TB parser",
    ),
    'tbp_parser_tngs': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="TB Parser TNGS",
        section_title=None,
        description="Enable TNGS mode for TB parser",
    ),
    'tbp_parser_rrs_frequncy': NextflowParameter(
        type=float,
        default=0.1,
        display_name="TB Parser RRS Frequency",
        section_title=None,
        description="RRS frequency threshold for TB parser",
    ),
    'tbp_parser_rrs_read_support': NextflowParameter(
        type=int,
        default=10,
        display_name="TB Parser RRS Read Support",
        section_title=None,
        description="RRS read support for TB parser",
    ),
    'tbp_parser_rr1_frequency': NextflowParameter(
        type=float,
        default=0.1,
        display_name="TB Parser RR1 Frequency",
        section_title=None,
        description="RR1 frequency threshold for TB parser",
    ),
    'tbp_parser_rr1_read_support': NextflowParameter(
        type=int,
        default=10,
        display_name="TB Parser RR1 Read Support",
        section_title=None,
        description="RR1 read support for TB parser",
    ),
    'tbp_parser_rpob499_frequency': NextflowParameter(
        type=float,
        default=0.1,
        display_name="TB Parser rpoB499 Frequency",
        section_title=None,
        description="rpoB499 frequency threshold for TB parser",
    ),
    'tbp_parser_etha237_frequency': NextflowParameter(
        type=float,
        default=0.1,
        display_name="TB Parser ethA237 Frequency",
        section_title=None,
        description="ethA237 frequency threshold for TB parser",
    ),
    'tbp_parser_expert_rule_regions_bed': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="TB Parser Expert Rule Regions BED",
        section_title=None,
        description="BED file for TB parser expert rule regions",
    ),
    'poppunk_gps_db_url': NextflowParameter(
        type=str,
        default='https://gps-project.cog.sanger.ac.uk/GPS_6.tar.gz',
        display_name="PopPUNK GPS Database URL",
        section_title='Population genomics',
        description="URL for PopPUNK GPS database",
    ),
    'poppunk_gps_external_clusters_url': NextflowParameter(
        type=str,
        default='https://gps-project.cog.sanger.ac.uk/GPS_v6_external_clusters.csv',
        display_name="PopPUNK GPS External Clusters URL",
        section_title=None,
        description="URL for PopPUNK GPS external clusters",
    ),
    'publish_dir_mode': NextflowParameter(
        type=str,
        default='copy',
        display_name="Publish Directory Mode",
        section_title='System and output',
        description="Method for publishing output files",
    ),
    'email': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Email",
        section_title=None,
        description="Email address for completion notifications",
    ),
    'email_on_fail': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Email on Fail",
        section_title=None,
        description="Email address for failure notifications",
    ),
    'plaintext_email': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Plaintext Email",
        section_title=None,
        description="Send email notifications in plain text format",
    ),
    'monochrome_logs': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Monochrome Logs",
        section_title=None,
        description="Use monochrome (no color) log output",
    ),
    'hook_url': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        display_name="Hook URL",
        section_title=None,
        description="URL for webhook notifications",
    ),
    'help_full': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Full Help",
        section_title=None,
        description="Show full help documentation",
    ),
    'show_hidden': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        display_name="Show Hidden Parameters",
        section_title=None,
        description="Show hidden parameters in help",
    ),
    'pipelines_testdata_base_path': NextflowParameter(
        type=str,
        default='https://raw.githubusercontent.com/nf-core/test-datasets/modules/data/',
        display_name="Test Data Base Path",
        section_title=None,
        description="Base path for pipeline test datasets",
    ),
    'version': NextflowParameter(
        type=typing.Optional[bool],
        default=None,
        section_title='Generic options',
        description='Display version and exit.',
    ),
    'validate_params': NextflowParameter(
        type=bool,
        default=True,
        section_title=None,
        description='Boolean whether to validate parameters against the schema at runtime',
    ),
    'trace_report_suffix': NextflowParameter(
        type=typing.Optional[str],
        default=None,
        section_title=None,
        description='Suffix to add to the trace report filename. Default is the date and time in the format yyyy-MM-dd_HH-mm-ss.',
    ),
}

